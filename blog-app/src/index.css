@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Lexend:wght@300;400;500;600;700&display=swap');

/* OpenDyslexic font for accessibility */
@font-face {
  font-family: 'OpenDyslexic';
  src: url('https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'OpenDyslexic';
  src: url('https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Bold.woff') format('woff');
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-canvas dark:bg-canvas-dark text-text-primary dark:text-text-dark-primary transition-colors duration-300;
    font-family: 'DM Sans', system-ui, sans-serif;
  }

  /* Adaptive Typography - Mobil: 16-18px, Masaüstü: 18-20px */
  p, li, span {
    @apply text-base md:text-lg;
    line-height: 1.6;
  }

  @screen md {
    p, li, span {
      line-height: 1.7;
    }
  }

  h1 {
    @apply text-3xl md:text-4xl lg:text-5xl font-display font-bold;
    line-height: 1.2;
  }

  h2 {
    @apply text-2xl md:text-3xl font-display font-semibold;
    line-height: 1.3;
  }

  h3 {
    @apply text-xl md:text-2xl font-display font-semibold;
    line-height: 1.4;
  }

  /* Focus States - Klavye Erişilebilirliği (WCAG) */
  *:focus {
    @apply outline-none;
  }

  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500 ring-2 ring-primary-500/30;
  }

  /* Skip to content link for screen readers */
  .skip-link {
    @apply absolute -top-10 left-0 bg-primary-500 text-white px-4 py-2 z-[100] transition-all;
  }

  .skip-link:focus {
    @apply top-0;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary-500 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-primary-600;
  }

  /* High Contrast Mode */
  .high-contrast {
    --text-primary: #000000;
    --bg-primary: #FFFFFF;
  }

  .high-contrast.dark {
    --text-primary: #FFFFFF;
    --bg-primary: #000000;
  }

  /* Dyslexia Friendly Mode */
  .dyslexia-friendly {
    font-family: 'OpenDyslexic', 'Lexend', sans-serif !important;
    letter-spacing: 0.05em;
    word-spacing: 0.1em;
  }

  .dyslexia-friendly p,
  .dyslexia-friendly li,
  .dyslexia-friendly span {
    line-height: 1.8 !important;
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Card Styles - WCAG Contrast + Shadow on Hover */
  .card {
    @apply bg-white dark:bg-slate-800 rounded-2xl shadow-card dark:shadow-card-dark 
           transition-all duration-300 ease-out
           hover:shadow-card-hover dark:hover:shadow-card-hover-dark
           hover:-translate-y-1;
  }

  /* Button Styles with Focus States */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 
           bg-primary-500 hover:bg-primary-600 
           text-white font-semibold rounded-xl
           transition-all duration-300 ease-out
           hover:shadow-lg hover:-translate-y-0.5
           focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2
           dark:focus-visible:ring-offset-slate-800
           active:scale-95;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 
           bg-secondary-500 hover:bg-secondary-600 
           text-white font-semibold rounded-xl
           transition-all duration-300 ease-out
           hover:shadow-lg hover:-translate-y-0.5
           focus:outline-none focus-visible:ring-2 focus-visible:ring-secondary-500 focus-visible:ring-offset-2
           dark:focus-visible:ring-offset-slate-800
           active:scale-95;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 
           border-2 border-primary-500 text-primary-500 
           dark:border-primary-400 dark:text-primary-400
           font-semibold rounded-xl
           transition-all duration-300 ease-out
           hover:bg-primary-500 hover:text-white
           dark:hover:bg-primary-500 dark:hover:text-white
           hover:shadow-lg hover:-translate-y-0.5
           focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2
           dark:focus-visible:ring-offset-slate-800
           active:scale-95;
  }

  /* Link Styles - Blue-500 for Links */
  .link {
    @apply text-secondary-500 dark:text-secondary-400 
           hover:text-secondary-600 dark:hover:text-secondary-300
           underline-offset-4 hover:underline
           transition-colors duration-200
           focus-visible:ring-2 focus-visible:ring-secondary-500 focus-visible:rounded;
  }

  /* Badge/Tag Styles */
  .tag {
    @apply inline-flex items-center px-3 py-1 
           bg-primary-100 dark:bg-primary-900/30 
           text-primary-700 dark:text-primary-300
           text-sm font-medium rounded-full
           transition-colors duration-200;
  }

  .tag-new {
    @apply inline-flex items-center px-2 py-0.5
           bg-primary-500 text-white
           text-xs font-bold rounded-full
           animate-bounce-subtle;
  }

  /* Form Input Styles with Focus */
  .input {
    @apply w-full px-4 py-3 
           bg-white dark:bg-slate-700
           border border-gray-200 dark:border-slate-600
           rounded-xl
           text-text-primary dark:text-text-dark-primary
           placeholder:text-text-muted dark:placeholder:text-text-dark-muted
           transition-all duration-200
           focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:border-primary-500
           dark:focus-visible:ring-primary-400;
  }

  .textarea {
    @apply input resize-none;
  }

  /* Navigation Active Link */
  .nav-link {
    @apply relative px-4 py-2 text-text-secondary dark:text-text-dark-secondary
           hover:text-primary-500 dark:hover:text-primary-400
           transition-colors duration-200
           focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:rounded-lg;
  }

  .nav-link.active {
    @apply text-primary-500 dark:text-primary-400;
  }

  .nav-link.active::after {
    content: '';
    @apply absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-1 
           bg-primary-500 dark:bg-primary-400 rounded-full;
  }

  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-primary-500 to-secondary-500 
           bg-clip-text text-transparent;
  }

  /* Reading Progress Bar */
  .reading-progress {
    @apply fixed top-0 left-0 h-1 bg-gradient-to-r from-primary-500 to-secondary-500 z-50
           transition-all duration-100 ease-out;
  }

  /* Reading Mode Selector */
  .reading-mode-btn {
    @apply px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
           hover:bg-gray-100 dark:hover:bg-slate-700
           focus-visible:ring-2 focus-visible:ring-primary-500;
  }

  .reading-mode-btn.active {
    @apply bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400;
  }
}

@layer utilities {
  /* Animation Delays */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }

  /* Glassmorphism */
  .glass {
    @apply bg-white/70 dark:bg-slate-800/70 backdrop-blur-lg;
  }

  /* Line Clamp */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Screen Reader Only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Focus visible only */
  .focus-visible-only:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
  }
}
